<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VapeDealer MX</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background-color: #111;
      color: white;
      line-height: 1.6;
    }

    /* Bot√≥n de Suscripci√≥n Dorado */
    .subscription-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(45deg, #FFD700, #FFA500);
      color: #333;
      font-weight: bold;
      padding: 12px 24px;
      border-radius: 25px;
      text-decoration: none;
      z-index: 1000;
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      animation: pulse 2s infinite;
    }

    .subscription-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 215, 0, 0.6);
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* Banners de Publicidad */
    .ad-banner {
      background: linear-gradient(135deg, #25D366, #1a8f47);
      color: white;
      padding: 15px;
      text-align: center;
      margin: 10px auto;
      border-radius: 10px;
      max-width: 1200px;
      position: relative;
      overflow: hidden;
    }

    .ad-banner::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .ad-premium {
      background: linear-gradient(135deg, #8B4513, #D2691E);
      border: 2px solid #FFD700;
      padding: 20px;
      border-radius: 15px;
      margin: 30px auto;
      text-align: center;
      max-width: 1000px;
      position: relative;
    }

    .ad-badge {
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: #FFD700;
      color: #333;
      padding: 5px 15px;
      border-radius: 15px;
      font-weight: bold;
      font-size: 0.9em;
    }

    .new-releases {
      background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
      border: 2px solid #25D366;
      padding: 25px;
      border-radius: 15px;
      margin: 40px auto;
      max-width: 1200px;
    }

    .new-releases-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .release-item {
      background: rgba(255,255,255,0.05);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #333;
      transition: all 0.3s ease;
    }

    .release-item:hover {
      transform: translateY(-5px);
      border-color: #25D366;
    }

    .release-date {
      color: #FFD700;
      font-weight: bold;
      font-size: 0.9em;
    }

    /* Producto en promoci√≥n */
    .featured-product {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      border: 2px solid #FF4444;
      border-radius: 15px;
      padding: 25px;
      margin: 30px auto;
      max-width: 1000px;
      text-align: center;
      position: relative;
    }

    .discount-badge {
      position: absolute;
      top: -15px;
      right: 20px;
      background: #FF4444;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 1.2em;
      transform: rotate(5deg);
    }

    /* Publicidad lateral */
    .side-ad {
      position: fixed;
      bottom: 150px;
      left: 20px;
      width: 200px;
      background: linear-gradient(135deg, #25D366, #20b358);
      color: white;
      padding: 15px;
      border-radius: 10px;
      z-index: 500;
      display: none;
    }

    @media (min-width: 1200px) {
      .side-ad {
        display: block;
      }
    }

    /* Men√∫ Lateral */
    .side-menu {
      position: fixed;
      left: -300px;
      top: 0;
      width: 300px;
      height: 100vh;
      background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
      box-shadow: 5px 0 25px rgba(0,0,0,0.5);
      z-index: 2000;
      transition: left 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      overflow-y: auto;
      border-right: 2px solid #333;
    }

    .side-menu.open {
      left: 0;
    }

    .menu-header {
      padding: 25px 20px;
      background: linear-gradient(135deg, #25D366, #20b358);
      border-bottom: 2px solid #1a8f47;
    }

    .menu-logo {
      font-size: 1.5em;
      font-weight: bold;
      color: white;
      margin-bottom: 5px;
    }

    .menu-tagline {
      font-size: 0.9em;
      color: rgba(255,255,255,0.9);
      font-style: italic;
    }

    .menu-section {
      padding: 20px;
      border-bottom: 1px solid #333;
    }

    .menu-section-title {
      font-size: 0.85em;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .menu-item {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      margin-bottom: 8px;
      background: rgba(255,255,255,0.03);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      color: #ccc;
      border: 1px solid transparent;
    }

    .menu-item:hover {
      background: rgba(37, 211, 102, 0.1);
      border-color: #25D366;
      color: white;
      transform: translateX(5px);
    }

    .menu-item-icon {
      font-size: 1.3em;
      margin-right: 15px;
      min-width: 25px;
      text-align: center;
    }

    .menu-item-text {
      flex: 1;
      font-size: 0.95em;
    }

    .menu-toggle {
      position: fixed;
      left: 20px;
      top: 20px;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #25D366, #20b358);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 2001;
      box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
      transition: all 0.3s ease;
    }

    .menu-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(37, 211, 102, 0.6);
    }

    .menu-toggle-icon {
      width: 24px;
      height: 18px;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .menu-toggle-icon span {
      width: 100%;
      height: 3px;
      background: white;
      border-radius: 2px;
      transition: all 0.3s ease;
    }

    .menu-toggle.open .menu-toggle-icon span:nth-child(1) {
      transform: rotate(45deg) translateY(8px);
    }

    .menu-toggle.open .menu-toggle-icon span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.open .menu-toggle-icon span:nth-child(3) {
      transform: rotate(-45deg) translateY(-8px);
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 1999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .menu-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .menu-badge {
      background: #ff4444;
      color: white;
      font-size: 0.7em;
      padding: 2px 6px;
      border-radius: 10px;
      margin-left: auto;
      font-weight: bold;
    }

    /* Bot√≥n de Carrito Flotante */
    .cart-button {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #25D366, #20b358);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
      transition: all 0.3s ease;
    }

    .cart-button:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(37, 211, 102, 0.6);
    }

    .cart-button-icon {
      font-size: 1.8em;
      position: relative;
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #ff4444;
      color: white;
      font-size: 0.5em;
      padding: 4px 7px;
      border-radius: 50%;
      font-weight: bold;
      min-width: 20px;
      text-align: center;
    }

    header {
      text-align: center;
      padding: 20px 10px 80px 70px;
      background: linear-gradient(135deg, #1e1e1e 0%, #2a2a2a 100%);
      border-bottom: 2px solid #333;
    }

    header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #25D366, #20b358);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    header p {
      font-style: italic;
      color: #ccc;
      font-size: 1.1em;
    }

    .hero-section {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      padding: 80px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 50% 50%, rgba(37, 211, 102, 0.1) 0%, transparent 70%);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-title {
      font-size: 3em;
      margin-bottom: 20px;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .hero-subtitle {
      font-size: 1.3em;
      color: #ccc;
      margin-bottom: 30px;
      line-height: 1.5;
    }

    .hero-cta {
      display: inline-block;
      background: linear-gradient(45deg, #25D366, #20b358);
      color: white;
      padding: 15px 40px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.1em;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
    }

    .hero-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4);
    }

    .stats-section {
      background: #1a1a1a;
      padding: 60px 20px;
      border-top: 1px solid #333;
    }

    .stats-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      text-align: center;
    }

    .stat-item {
      padding: 30px 20px;
      background: linear-gradient(135deg, #2a2a2a, #1e1e1e);
      border-radius: 15px;
      border: 1px solid #333;
      transition: transform 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-5px);
    }

    .stat-number {
      font-size: 2.5em;
      font-weight: bold;
      color: #25D366;
      margin-bottom: 10px;
    }

    .stat-label {
      font-size: 1.1em;
      color: #ccc;
    }

    .categories-section {
      padding: 80px 20px;
      background: #111;
    }

    .section-title {
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 20px;
      color: white;
    }

    .section-subtitle {
      text-align: center;
      font-size: 1.2em;
      color: #ccc;
      margin-bottom: 50px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .categories-grid {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    .category-card {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      border: 2px solid #333;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .category-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(37, 211, 102, 0.1), transparent);
      transition: left 0.6s ease;
    }

    .category-card:hover::before {
      left: 100%;
    }

    .category-card:hover {
      transform: translateY(-10px);
      border-color: #25D366;
      box-shadow: 0 15px 30px rgba(37, 211, 102, 0.2);
    }

    .category-icon {
      font-size: 3em;
      margin-bottom: 20px;
      display: block;
    }

    .category-title {
      font-size: 1.4em;
      font-weight: bold;
      color: white;
      margin-bottom: 15px;
    }

    .category-description {
      color: #ccc;
      font-size: 1em;
      line-height: 1.5;
    }

    .featured-section {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      padding: 80px 20px;
    }

    .catalog-section {
      padding: 80px 20px;
      background: #111;
    }

    .catalog-header {
      text-align: center;
      margin-bottom: 50px;
    }

    .filter-bar {
      max-width: 800px;
      margin: 0 auto 40px;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
    }

    .filter-btn {
      padding: 12px 25px;
      background: #2a2a2a;
      border: 2px solid #333;
      border-radius: 25px;
      color: #ccc;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .filter-btn:hover,
    .filter-btn.active {
      background: #25D366;
      border-color: #25D366;
      color: white;
    }

    #productos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      padding: 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .producto-card {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid #333;
      width: 100%;
      max-width: 350px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .producto-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 35px rgba(37, 211, 102, 0.2);
      border-color: #25D366;
    }

    .producto-img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 10px;
      background: #222;
      margin-bottom: 15px;
    }

    .producto-nombre {
      margin: 15px 0 10px;
      font-weight: 600;
      font-size: 1.1em;
      color: white;
      line-height: 1.3;
    }

    .producto-precio {
      color: #25D366;
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 1.2em;
    }

    .producto-descripcion {
      font-size: 0.9em;
      color: #ccc;
      height: 45px;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.4;
      margin-bottom: 15px;
    }

    .producto-actions {
      display: flex;
      gap: 10px;
      margin-top: auto;
    }

    .btn-agregar-carrito {
      flex: 1;
      background: linear-gradient(45deg, #25D366, #20b358);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn-agregar-carrito:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
    }

    .btn-agregar-carrito:active {
      transform: scale(0.95);
    }

    .btn-whatsapp {
      background: linear-gradient(45deg, #25D366, #20b358);
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-whatsapp:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
    }

    .why-us-section {
      background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
      padding: 80px 20px;
    }

    .features-grid {
      max-width: 1200px;
      margin: 50px auto 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 40px;
    }

    .feature-item {
      text-align: center;
      padding: 40px 30px;
      background: rgba(255,255,255,0.02);
      border-radius: 15px;
      border: 1px solid #333;
      transition: transform 0.3s ease;
    }

    .feature-item:hover {
      transform: translateY(-5px);
    }

    .feature-icon {
      font-size: 2.5em;
      margin-bottom: 20px;
      color: #25D366;
    }

    .feature-title {
      font-size: 1.3em;
      font-weight: bold;
      color: white;
      margin-bottom: 15px;
    }

    .feature-description {
      color: #ccc;
      line-height: 1.6;
    }

    .testimonials-section {
      background: #111;
      padding: 80px 20px;
      position: relative;
    }

    .testimonials-grid {
      max-width: 1200px;
      margin: 50px auto 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
    }

    .testimonial-card {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      padding: 30px;
      border-radius: 15px;
      border-left: 4px solid #25D366;
      position: relative;
    }

    .testimonial-text {
      font-style: italic;
      color: #ccc;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .testimonial-author {
      color: #25D366;
      font-weight: bold;
    }

    .testimonial-rating {
      color: #ffd700;
      margin-top: 10px;
    }

    .testimonial-date {
      color: #888;
      font-size: 0.8em;
      margin-top: 5px;
    }

    /* Bot√≥n para agregar testimonio */
    .add-testimonial-btn {
      position: absolute;
      top: 30px;
      right: 20px;
      background: linear-gradient(45deg, #25D366, #20b358);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .add-testimonial-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
    }

    /* Modal para agregar testimonio - SIMPLIFICADO */
    .testimonial-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 3000;
      align-items: center;
      justify-content: center;
    }

    .testimonial-modal.open {
      display: flex;
    }

    .testimonial-modal-content {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      border-radius: 20px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      border: 2px solid #25D366;
    }

    .testimonial-modal-title {
      font-size: 1.8em;
      color: #25D366;
      margin-bottom: 20px;
      text-align: center;
    }

    .rating-stars {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .star {
      font-size: 2em;
      cursor: pointer;
      color: #666;
      transition: color 0.3s ease;
    }

    .star.active {
      color: #ffd700;
    }

    .testimonial-textarea {
      width: 100%;
      padding: 15px;
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
      color: white;
      font-size: 1em;
      resize: vertical;
      min-height: 100px;
      margin-bottom: 15px;
    }

    .testimonial-textarea:focus {
      outline: none;
      border-color: #25D366;
    }

    .testimonial-modal-buttons {
      display: flex;
      gap: 10px;
    }

    .testimonial-btn {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }

    .testimonial-btn-primary {
      background: linear-gradient(45deg, #25D366, #20b358);
      color: white;
    }

    .testimonial-btn-primary:hover {
      transform: translateY(-2px);
    }

    .testimonial-btn-secondary {
      background: #2a2a2a;
      color: white;
      border: 1px solid #333;
    }

    .testimonial-btn-secondary:hover {
      background: #333;
    }

    /* Modal de Suscripci√≥n */
    .subscription-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 3001;
      align-items: center;
      justify-content: center;
    }

    .subscription-modal.open {
      display: flex;
    }

    .subscription-modal-content {
      background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      border-radius: 20px;
      padding: 40px;
      max-width: 500px;
      width: 90%;
      border: 2px solid #FFD700;
      text-align: center;
    }

    .subscription-title {
      font-size: 2em;
      color: #FFD700;
      margin-bottom: 20px;
    }

    .subscription-features {
      text-align: left;
      margin: 20px 0;
    }

    .subscription-features li {
      margin: 10px 0;
      color: #ccc;
    }

    .subscription-price {
      font-size: 2.5em;
      color: #FFD700;
      margin: 20px 0;
    }

    .subscription-benefit {
      color: #25D366;
      font-weight: bold;
      margin: 10px 0;
    }

    footer {
      background: linear-gradient(135deg, #1a1a1a, #0d0d0d);
      padding: 60px 20px 30px;
      border-top: 2px solid #333;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-bottom: 30px;
    }

    .footer-section h3 {
      color: #25D366;
      margin-bottom: 20px;
      font-size: 1.3em;
    }

    .footer-section p,
    .footer-section a {
      color: #ccc;
      text-decoration: none;
      line-height: 1.8;
      transition: color 0.3s ease;
    }

    .footer-section a:hover {
      color: #25D366;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid #333;
      color: #666;
    }

    a.whatsapp {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(45deg, #25D366, #20b358);
      padding: 15px 20px;
      border-radius: 50px;
      color: white;
      font-weight: bold;
      box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
      text-decoration: none;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    a.whatsapp:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(37, 211, 102, 0.6);
    }

    #admin-access {
      position: fixed;
      bottom: 5px;
      left: 5px;
      width: 30px;
      height: 30px;
      cursor: pointer;
      z-index: 999;
      opacity: 0;
    }

    .loading-message {
      text-align: center;
      padding: 40px;
      font-size: 1.2em;
      color: #25D366;
      grid-column: 1 / -1;
    }

    .error-message {
      text-align: center;
      padding: 40px;
      font-size: 1.2em;
      color: #ff4444;
      background: rgba(255, 68, 68, 0.1);
      border-radius: 10px;
      margin: 20px;
      grid-column: 1 / -1;
    }

    .success-toast {
      position: fixed;
      bottom: 160px;
      right: 20px;
      background: linear-gradient(135deg, #25D366, #20b358);
      color: white;
      padding: 15px 25px;
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(37, 211, 102, 0.4);
      z-index: 2000;
      animation: slideIn 0.3s ease-out;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @media (max-width: 768px) {
      .subscription-btn {
        top: 15px;
        right: 15px;
        padding: 10px 18px;
        font-size: 0.9em;
      }

      .hero-title {
        font-size: 2.2em;
      }

      .hero-subtitle {
        font-size: 1.1em;
      }

      .section-title {
        font-size: 2em;
      }

      .stats-container {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .categories-grid {
        grid-template-columns: 1fr;
      }

      .filter-bar {
        flex-direction: column;
        align-items: center;
      }

      #productos {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        padding: 15px;
      }

      .producto-card {
        max-width: 100%;
        padding: 20px;
      }

      .producto-img {
        height: 180px;
      }

      a.whatsapp {
        bottom: 15px;
        right: 15px;
        padding: 12px 16px;
        font-size: 0.9em;
      }

      .cart-button {
        bottom: 85px;
        width: 55px;
        height: 55px;
      }

      .side-menu {
        width: 280px;
        left: -280px;
      }

      .menu-toggle {
        width: 45px;
        height: 45px;
        left: 15px;
        top: 15px;
      }

      .producto-actions {
        flex-direction: column;
      }

      .add-testimonial-btn {
        position: static;
        margin: 0 auto 30px;
        display: block;
      }

      .testimonial-modal-content {
        padding: 20px;
        margin: 20px;
      }

      .testimonial-modal-buttons {
        flex-direction: column;
      }

      .side-ad {
        display: none;
      }

      .new-releases-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 480px) {
      .hero-section {
        padding: 60px 15px;
      }

      header h1 {
        font-size: 2em;
      }

      #productos {
        grid-template-columns: 1fr;
        gap: 15px;
        padding: 10px;
      }

      .producto-card {
        padding: 18px;
        margin: 0;
      }

      .producto-img {
        height: 200px;
      }

      .producto-nombre {
        font-size: 1.2em;
      }

      .producto-precio {
        font-size: 1.3em;
      }

      .side-menu {
        width: 100%;
        left: -100%;
      }

      .subscription-btn {
        padding: 8px 15px;
        font-size: 0.8em;
      }
    }
  </style>
</head>
<body>
  <!-- Bot√≥n de Suscripci√≥n Dorado -->
  <a href="#" class="subscription-btn" onclick="mostrarModalSuscripcion(event)">
    <span>üëë</span>
    SUSCRIBIRSE
  </a>

  <!-- Modal de Suscripci√≥n -->
  <div class="subscription-modal" id="subscriptionModal">
    <div class="subscription-modal-content">
      <h2 class="subscription-title">¬°SUSCR√çBETE PREMIUM!</h2>
      <p style="color: #ccc; margin-bottom: 20px;">Accede a beneficios exclusivos</p>
      
      <div class="subscription-features">
        <ul style="list-style: none; padding: 0;">
          <li>‚úÖ <strong>15% DESCUENTO</strong> en todos los productos</li>
          <li>‚úÖ Env√≠o <strong>GRATIS</strong> en todas tus compras</li>
          <li>‚úÖ Acceso <strong>PRIORITARIO</strong> a nuevos lanzamientos</li>
          <li>‚úÖ <strong>ASESOR√çA PERSONALIZADA</strong> 24/7</li>
          <li>‚úÖ <strong>SORTEOS EXCLUSIVOS</strong> mensuales</li>
          <li>‚úÖ <strong>GARANT√çA EXTENDIDA</strong> en todos los productos</li>
        </ul>
      </div>
      
      <div class="subscription-price">$299<span style="font-size: 0.5em; color: #ccc;">/MES</span></div>
      
      <p class="subscription-benefit">¬°Ahorra hasta $500 mensuales!</p>
      
      <button class="testimonial-btn testimonial-btn-primary" style="background: linear-gradient(45deg, #FFD700, #FFA500); width: 100%;" onclick="suscripcionWhatsApp()">
        SUSCRIBIRME AHORA
      </button>
      
      <button class="testimonial-btn testimonial-btn-secondary" style="margin-top: 10px;" onclick="cerrarModalSuscripcion()">
        Cancelar
      </button>
    </div>
  </div>

  <!-- Modal para agregar testimonio -->
  <div class="testimonial-modal" id="testimonialModal">
    <div class="testimonial-modal-content">
      <h3 class="testimonial-modal-title">Deja tu Rese√±a</h3>
      <div id="testimonialForm">
        <!-- Formulario se carga aqu√≠ -->
      </div>
    </div>
  </div>

  <div class="menu-toggle" id="menuToggle">
    <div class="menu-toggle-icon">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>

  <div class="menu-overlay" id="menuOverlay"></div>

  <!-- Publicidad Lateral (solo en desktop) -->
  <div class="side-ad" id="sideAd">
    <strong>üî• OFERTA ESPECIAL üî•</strong>
    <p style="font-size: 0.9em; margin-top: 5px;">VAPO XYZ + 2 MIELES</p>
    <p style="color: #FFD700; font-weight: bold; margin: 5px 0;">$599</p>
    <button onclick="comprarOfertaEspecial()" style="background: white; color: #25D366; border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 5px;">
      COMPRAR AHORA
    </button>
  </div>

  <nav class="side-menu" id="sideMenu">
    <div class="menu-header">
      <div class="menu-logo">VapeDealer MX</div>
      <div class="menu-tagline">Tu tienda de confianza üí®</div>
    </div>

    <div class="menu-section">
      <div class="menu-section-title">Navegaci√≥n</div>
      <a href="#" class="menu-item">
        <span class="menu-item-icon">üè†</span>
        <span class="menu-item-text">Inicio</span>
      </a>
      <a href="#productos-section" class="menu-item">
        <span class="menu-item-icon">üõçÔ∏è</span>
        <span class="menu-item-text">Cat√°logo</span>
      </a>
      <a href="pedidos.html" class="menu-item">
        <span class="menu-item-icon">üõí</span>
        <span class="menu-item-text">Mi Carrito</span>
        <span class="menu-badge" id="menu-cart-count">0</span>
      </a>
      <a href="#" class="menu-item">
        <span class="menu-item-icon">‚≠ê</span>
        <span class="menu-item-text">Ofertas Especiales</span>
        <span class="menu-badge">NEW</span>
      </a>
    </div>

    <div class="menu-section">
      <div class="menu-section-title">Categor√≠as</div>
      <a href="#" class="menu-item filter-category" data-filter="Premium">
        <span class="menu-item-icon">üçØ</span>
        <span class="menu-item-text">Premium</span>
      </a>
      <a href="#" class="menu-item filter-category" data-filter="Nuevos">
        <span class="menu-item-icon">‚ö°</span>
        <span class="menu-item-text">Nuevos</span>
      </a>
      <a href="#" class="menu-item filter-category" data-filter="Ofertas">
        <span class="menu-item-icon">üí∞</span>
        <span class="menu-item-text">Ofertas</span>
      </a>
      <a href="#" class="menu-item filter-category" data-filter="Populares">
        <span class="menu-item-icon">üåü</span>
        <span class="menu-item-text">Populares</span>
      </a>
    </div>

    <div class="menu-section">
      <div class="menu-section-title">Cuenta</div>
      <a href="perfil.html" class="menu-item">
        <span class="menu-item-icon">üë§</span>
        <span class="menu-item-text">Mi Perfil</span>
      </a>
      <a href="#" class="menu-item">
        <span class="menu-item-icon">‚ù§Ô∏è</span>
        <span class="menu-item-text">Favoritos</span>
      </a>
      <a href="configuracion.html" class="menu-item">
        <span class="menu-item-icon">‚öôÔ∏è</span>
        <span class="menu-item-text">Configuraci√≥n</span>
      </a>
    </div>

    <div class="menu-section">
      <div class="menu-section-title">Ayuda</div>
      <a href="#" class="menu-item">
        <span class="menu-item-icon">üí¨</span>
        <span class="menu-item-text">Contacto</span>
      </a>
      <a href="#" class="menu-item">
        <span class="menu-item-icon">‚ùì</span>
        <span class="menu-item-text">FAQ</span>
      </a>
      <a href="https://wa.me/523346799345" target="_blank" class="menu-item">
        <span class="menu-item-icon">üì±</span>
        <span class="menu-item-text">WhatsApp</span>
      </a>
    </div>
  </nav>

  <!-- Bot√≥n de Carrito Flotante -->
  <div class="cart-button" id="cartButton">
    <div class="cart-button-icon">
      üõí
      <span class="cart-count" id="cartCount">0</span>
    </div>
  </div>

  <header>
    <h1>VapeDealer MX</h1>
    <p>No vendemos humo. Vendemos estilo üí®</p>
  </header>

  <!-- Banner Publicitario 1 -->
  <div class="ad-banner">
    <strong>üöö ENV√çO GRATIS</strong> en compras mayores a $500 | 
    <strong>üî• 3X2</strong> en mieles seleccionadas | 
    <strong>üéÅ REGALO</strong> con tu primera compra
  </div>

  <section class="hero-section">
    <div class="hero-content">
      <h2 class="hero-title">La mejor selecci√≥n de productos</h2>
      <p class="hero-subtitle">
        Descubre nuestra amplia gama de productos premium con la mejor calidad 
        y precios competitivos. Entrega r√°pida.
      </p>
      <a href="#productos-section" class="hero-cta">Ver Cat√°logo</a>
    </div>
  </section>

  <!-- Producto Destacado en Promoci√≥n -->
  <div class="featured-product">
    <div class="discount-badge">-30%</div>
    <h3 style="color: white; margin-bottom: 10px;">üî• VAPO DEL MES üî•</h3>
    <h4 style="color: #FFD700; margin-bottom: 15px;">VAPORIZADOR TURBO X PRO</h4>
    <p style="color: #ccc; margin-bottom: 15px;">Capacidad 5000 puffs ‚Ä¢ 15 sabores disponibles ‚Ä¢ Bater√≠a de larga duraci√≥n</p>
    <div style="display: flex; justify-content: center; gap: 20px; align-items: center; margin-bottom: 15px;">
      <span style="text-decoration: line-through; color: #888;">$799</span>
      <span style="font-size: 1.5em; color: #25D366; font-weight: bold;">$559</span>
    </div>
    <button onclick="comprarProductoDestacado()" style="background: linear-gradient(45deg, #FF4444, #FF0000); color: white; border: none; padding: 12px 30px; border-radius: 25px; font-weight: bold; cursor: pointer;">
      COMPRAR AHORA
    </button>
  </div>

  <!-- Pr√≥ximos Lanzamientos -->
  <div class="new-releases">
    <h3 style="text-align: center; color: white; margin-bottom: 10px;">üöÄ PR√ìXIMOS LANZAMIENTOS</h3>
    <p style="text-align: center; color: #ccc; margin-bottom: 20px;">¬°Prep√°rate para lo nuevo que viene!</p>
    
    <div class="new-releases-grid">
      <div class="release-item">
        <h4 style="color: #25D366;">VAPO INFINITY 8000</h4>
        <p style="font-size: 0.9em; color: #ccc; margin: 10px 0;">Pantalla LED ‚Ä¢ Control de nicotina ‚Ä¢ 8000 puffs</p>
        <div class="release-date">Disponible: 15 DIC</div>
      </div>
      <div class="release-item">
        <h4 style="color: #25D366;">MIELES PREMIUM ED. ESPECIAL</h4>
        <p style="font-size: 0.9em; color: #ccc; margin: 10px 0;">5 nuevos sabores exclusivos ‚Ä¢ Mayor concentraci√≥n</p>
        <div class="release-date">Disponible: 20 DIC</div>
      </div>
      <div class="release-item">
        <h4 style="color: #25D366;">KIT PRO VAPORIZADOR</h4>
        <p style="font-size: 0.9em; color: #ccc; margin: 10px 0;">Incluye cargador ‚Ä¢ Estuche ‚Ä¢ 3 mieles de regalo</p>
        <div class="release-date">Disponible: 25 DIC</div>
      </div>
      <div class="release-item">
        <h4 style="color: #25D366;">VAPO MINI DISCREET</h4>
        <p style="font-size: 0.9em; color: #ccc; margin: 10px 0;">Dise√±o compacto ‚Ä¢ Sin humo visible ‚Ä¢ 3000 puffs</p>
        <div class="release-date">Disponible: 30 DIC</div>
      </div>
    </div>
  </div>

  <section class="catalog-section" id="productos-section">
    <div class="catalog-header">
      <h2 class="section-title">Cat√°logo</h2>
      <p class="section-subtitle">
        Todos nuestros Vapos
      </p>
      
      <div class="filter-bar">
        <button class="filter-btn active" data-filter="Todos">Todos</button>
        <button class="filter-btn" data-filter="Premium">Premium</button>
        <button class="filter-btn" data-filter="Nuevos">Nuevos</button>
        <button class="filter-btn" data-filter="Ofertas">Ofertas</button>
      </div>
    </div>

    <!-- Banner Publicitario 2 -->
    <div class="ad-premium">
      <div class="ad-badge">EXCLUSIVO</div>
      <h4 style="color: #FFD700; margin-bottom: 10px;">üéÑ OFERTA NAVIDE√ëA üéÑ</h4>
      <p style="color: white; margin-bottom: 10px;">Compra 2 vapos y ll√©vate el 3ero al 50% + Env√≠o Express Gratis</p>
      <button onclick="whatsAppNavidad()" style="background: #FFD700; color: #333; border: none; padding: 10px 25px; border-radius: 20px; font-weight: bold; cursor: pointer;">
        APROVECHAR OFERTA
      </button>
    </div>

    <div id="productos">
      <div class="loading-message">Cargando productos...</div>
    </div>
  </section>

  <section class="testimonials-section">
    <h2 class="section-title">Rese√±as de clientes</h2>
    <p class="section-subtitle">
      Lo que dicen nuestros clientes
    </p>

    <button class="add-testimonial-btn" onclick="mostrarModalTestimonio()">
      <span>‚≠ê</span> Dejar rese√±a
    </button>

    <div class="testimonials-grid" id="testimonials">
      <!-- Testimonios se cargan aqu√≠ -->
    </div>
  </section>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>VapeDealer MX</h3>
        <p>Los mejores Vapos y mieles ü§´</p>
      </div>
      <div class="footer-section">
        <h3>Contacto</h3>
        <p>üìû WhatsApp: +52 33 467 993 45</p>
        <p>‚è∞ Horario: 24/7</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 VapeDealer MX.</p>
    </div>
  </footer>

  <a href="https://wa.me/523346799345" target="_blank" class="whatsapp">üí¨ WhatsApp</a>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Configuraci√≥n de Supabase
    const supabaseUrl = 'https://sjvgfhloimgzdheiqnuj.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNqdmdmaGxvaW1nemRoZWlxbnVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwMDg0OTIsImV4cCI6MjA3NjU4NDQ5Mn0.ieXM9A9sw4a0uOnzvHQ887xyb8gY_G_OvAsGM8I2tIs';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

    // Elementos del DOM
    const productosContainer = document.getElementById('productos');
    const testimonialsContainer = document.getElementById('testimonials');
    const cartButton = document.getElementById('cartButton');
    const cartCount = document.getElementById('cartCount');
    const menuCartCount = document.getElementById('menu-cart-count');
    const testimonialModal = document.getElementById('testimonialModal');
    const subscriptionModal = document.getElementById('subscriptionModal');
    const sideAd = document.getElementById('sideAd');

    // Variables globales
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    let ratingSeleccionado = 0;

    // ========== FUNCIONES B√ÅSICAS ==========

    // Actualizar contador del carrito
    function actualizarContadorCarrito() {
      const totalItems = carrito.reduce((sum, item) => sum + item.cantidad, 0);
      cartCount.textContent = totalItems;
      menuCartCount.textContent = totalItems;
      cartCount.style.display = totalItems > 0 ? 'block' : 'none';
      menuCartCount.style.display = totalItems > 0 ? 'inline-block' : 'none';
    }

    // Mostrar notificaci√≥n
    function mostrarToast(mensaje) {
      const toast = document.createElement('div');
      toast.className = 'success-toast';
      toast.textContent = mensaje;
      document.body.appendChild(toast);
      
      setTimeout(() => toast.remove(), 3000);
    }

    // Agregar al carrito
    function agregarAlCarrito(producto) {
      const productoId = producto.id || producto.id_producto;
      
      if (!productoId) {
        mostrarToast('‚ùå Error con el producto');
        return;
      }
      
      const itemExistente = carrito.find(item => item.id === productoId);
      
      if (itemExistente) {
        itemExistente.cantidad++;
      } else {
        carrito.push({
          id: productoId,
          nombre: producto.nombre,
          precio: producto.precio,
          imagen_url: producto.imagen_url,
          cantidad: 1
        });
      }
      
      localStorage.setItem('carrito', JSON.stringify(carrito));
      actualizarContadorCarrito();
      mostrarToast(`‚úÖ ${producto.nombre} agregado`);
    }

    // ========== FUNCIONES DE PUBLICIDAD ==========

    function comprarProductoDestacado() {
      const mensaje = "¬°Hola! Me interesa el VAPORIZADOR TURBO X PRO con 30% de descuento ($559)";
      window.open(`https://wa.me/523346799345?text=${encodeURIComponent(mensaje)}`, '_blank');
    }

    function comprarOfertaEspecial() {
      const mensaje = "¬°Hola! Quiero la OFERTA ESPECIAL: VAPO XYZ + 2 MIELES por $599";
      window.open(`https://wa.me/523346799345?text=${encodeURIComponent(mensaje)}`, '_blank');
    }

    function whatsAppNavidad() {
      const mensaje = "¬°Hola! Quiero aprovechar la OFERTA NAVIDE√ëA: 2 vapos + 3ero al 50% + Env√≠o Gratis";
      window.open(`https://wa.me/523346799345?text=${encodeURIComponent(mensaje)}`, '_blank');
    }

    function suscripcionWhatsApp() {
      const mensaje = "¬°Hola! Quiero suscribirme al PLAN PREMIUM por $299/mes";
      window.open(`https://wa.me/523346799345?text=${encodeURIComponent(mensaje)}`, '_blank');
      cerrarModalSuscripcion();
    }

    function mostrarModalSuscripcion(e) {
      e.preventDefault();
      subscriptionModal.classList.add('open');
    }

    function cerrarModalSuscripcion() {
      subscriptionModal.classList.remove('open');
    }

    // Comprar por WhatsApp
    function comprarPorWhatsApp(nombreProducto, precioProducto) {
      const mensaje = `¬°Hola! Me interesa: ${nombreProducto} - $${precioProducto}`;
      window.open(`https://wa.me/523346799345?text=${encodeURIComponent(mensaje)}`, '_blank');
    }

    // ========== PRODUCTOS ==========

    async function cargarProductos(filtro = 'Todos') {
      productosContainer.innerHTML = '<div class="loading-message">Cargando productos...</div>';

      try {
        let query = supabase.from('productos').select('*');
        
        if (filtro !== 'Todos') {
          query = query.eq('categoria', filtro);
        }
        
        const { data: productos, error } = await query;

        if (error) throw error;

        productosContainer.innerHTML = '';

        if (!productos || productos.length === 0) {
          productosContainer.innerHTML = '<div class="error-message">No hay productos</div>';
          return;
        }

        productos.forEach(producto => {
          const productoCard = document.createElement('div');
          productoCard.className = 'producto-card';
          
          const img = document.createElement('img');
          img.className = 'producto-img';
          img.alt = producto.nombre;
          img.src = producto.imagen_url || 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Crect width="200" height="200" fill="%23222"/%3E%3Ctext x="100" y="100" text-anchor="middle" dy=".3em" fill="%23666" font-size="60"%3Eüì¶%3C/text%3E%3C/svg%3E';
          
          const precioFormateado = `$${parseFloat(producto.precio || 0).toFixed(2)}`;
          
          // Verificar si est√° en oferta
          const esOferta = producto.categoria === 'Ofertas' || producto.precio < 500;
          const badgeOferta = esOferta ? '<span style="background:#FF4444;color:white;padding:2px 8px;border-radius:10px;font-size:0.8em;position:absolute;top:10px;right:10px;">OFERTA</span>' : '';
          
          productoCard.innerHTML = `
            ${badgeOferta}
            <img class="producto-img" src="${img.src}" alt="${producto.nombre}">
            <h3 class="producto-nombre">${producto.nombre}</h3>
            <div class="producto-precio">${precioFormateado}</div>
            <p class="producto-descripcion">${producto.descripcion || 'Producto de calidad'}</p>
            <div class="producto-actions">
              <button class="btn-agregar-carrito">Agregar al Carrito</button>
              <button class="btn-whatsapp">üí¨</button>
            </div>
          `;
          
          // Event listeners para los botones
          const btnAgregar = productoCard.querySelector('.btn-agregar-carrito');
          const btnWhatsapp = productoCard.querySelector('.btn-whatsapp');
          
          btnAgregar.onclick = () => agregarAlCarrito(producto);
          btnWhatsapp.onclick = () => comprarPorWhatsApp(producto.nombre, producto.precio);
          
          productosContainer.appendChild(productoCard);
        });

      } catch (error) {
        console.error('Error:', error);
        productosContainer.innerHTML = `
          <div class="error-message">
            Error al cargar productos
            <br>
            <button onclick="cargarProductos()" style="background:#25D366;color:white;border:none;padding:10px 20px;border-radius:5px;margin-top:10px;cursor:pointer;">
              Reintentar
            </button>
          </div>
        `;
      }
    }

    // ========== TESTIMONIOS ==========

    async function cargarTestimonios() {
      try {
        const { data: testimonios, error } = await supabase
          .from('testimonios')
          .select('*')
          .order('created_at', { ascending: false })
          .limit(4);

        if (error) throw error;

        testimonialsContainer.innerHTML = '';

        if (!testimonios || testimonios.length === 0) {
          // Mostrar testimonios de ejemplo si no hay
          const testimoniosEjemplo = [
            { comentario: "Excelente calidad y entrega r√°pida", calificacion: 5, nombre: "Cliente 1" },
            { comentario: "Los mejores precios, muy recomendable", calificacion: 5, nombre: "Cliente 2" },
            { comentario: "Productos originales y garantizados", calificacion: 4, nombre: "Cliente 3" },
            { comentario: "Atenci√≥n personalizada 24/7", calificacion: 5, nombre: "Cliente 4" }
          ];
          
          testimoniosEjemplo.forEach(test => {
            const card = document.createElement('div');
            card.className = 'testimonial-card';
            card.innerHTML = `
              <p class="testimonial-text">"${test.comentario}"</p>
              <div class="testimonial-author">${test.nombre}</div>
              <div class="testimonial-rating">${'‚≠ê'.repeat(test.calificacion)}</div>
            `;
            testimonialsContainer.appendChild(card);
          });
          return;
        }

        testimonios.forEach(testimonio => {
          const card = document.createElement('div');
          card.className = 'testimonial-card';
          card.innerHTML = `
            <p class="testimonial-text">"${testimonio.comentario}"</p>
            <div class="testimonial-author">Cliente</div>
            <div class="testimonial-rating">${'‚≠ê'.repeat(testimonio.calificacion || 5)}</div>
          `;
          testimonialsContainer.appendChild(card);
        });

      } catch (error) {
        console.error('Error cargando testimonios:', error);
        // Mostrar testimonios de ejemplo en caso de error
        testimonialsContainer.innerHTML = `
          <div class="testimonial-card">
            <p class="testimonial-text">"Excelente calidad y entrega r√°pida"</p>
            <div class="testimonial-author">Cliente Satisfecho</div>
            <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
          </div>
          <div class="testimonial-card">
            <p class="testimonial-text">"Los mejores precios del mercado"</p>
            <div class="testimonial-author">Cliente Contento</div>
            <div class="testimonial-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
          </div>
        `;
      }
    }

    // ========== SISTEMA DE TESTIMONIOS ==========

    function mostrarModalTestimonio() {
      const testimonialForm = document.getElementById('testimonialForm');
      ratingSeleccionado = 0;
      
      testimonialForm.innerHTML = `
        <div class="rating-stars" id="ratingStars">
          <span class="star" data-rating="1">‚òÜ</span>
          <span class="star" data-rating="2">‚òÜ</span>
          <span class="star" data-rating="3">‚òÜ</span>
          <span class="star" data-rating="4">‚òÜ</span>
          <span class="star" data-rating="5">‚òÜ</span>
        </div>
        <textarea 
          class="testimonial-textarea" 
          id="testimonialText" 
          placeholder="Escribe tu experiencia..."
          maxlength="300"
        ></textarea>
        <div class="testimonial-modal-buttons">
          <button class="testimonial-btn testimonial-btn-secondary" onclick="cerrarModalTestimonio()">
            Cancelar
          </button>
          <button class="testimonial-btn testimonial-btn-primary" onclick="enviarTestimonio()">
            Enviar
          </button>
        </div>
      `;

      // Configurar estrellas
      const stars = testimonialForm.querySelectorAll('.star');
      stars.forEach(star => {
        star.addEventListener('click', () => {
          const rating = parseInt(star.dataset.rating);
          ratingSeleccionado = rating;
          
          stars.forEach((s, index) => {
            if (index < rating) {
              s.classList.add('active');
              s.textContent = '‚≠ê';
            } else {
              s.classList.remove('active');
              s.textContent = '‚òÜ';
            }
          });
        });
      });

      testimonialModal.classList.add('open');
    }

    async function enviarTestimonio() {
      const textarea = document.getElementById('testimonialText');
      const comentario = textarea.value.trim();

      if (!comentario || comentario.length < 10) {
        mostrarToast('‚ùå Escribe al menos 10 caracteres');
        return;
      }

      if (ratingSeleccionado === 0) {
        mostrarToast('‚ùå Selecciona una calificaci√≥n');
        return;
      }

      try {
        // Insertar testimonio - FORMA SIMPLE
        const { error } = await supabase
          .from('testimonios')
          .insert({
            comentario: comentario,
            calificacion: ratingSeleccionado,
            created_at: new Date().toISOString()
          });

        if (error) {
          console.error('Error Supabase:', error);
          // Intentar sin created_at
          const { error: error2 } = await supabase
            .from('testimonios')
            .insert({
              comentario: comentario,
              calificacion: ratingSeleccionado
            });

          if (error2) throw error2;
        }

        mostrarToast('‚úÖ ¬°Gracias por tu rese√±a!');
        cerrarModalTestimonio();
        cargarTestimonios(); // Recargar testimonios

      } catch (error) {
        console.error('Error completo:', error);
        mostrarToast('‚úÖ Rese√±a guardada (modo demo)');
        cerrarModalTestimonio();
        
        // Agregar testimonio localmente para mostrar
        const card = document.createElement('div');
        card.className = 'testimonial-card';
        card.innerHTML = `
          <p class="testimonial-text">"${comentario}"</p>
          <div class="testimonial-author">T√∫</div>
          <div class="testimonial-rating">${'‚≠ê'.repeat(ratingSeleccionado)}</div>
        `;
        testimonialsContainer.prepend(card);
      }
    }

    function cerrarModalTestimonio() {
      testimonialModal.classList.remove('open');
    }

    // ========== EVENT LISTENERS ==========

    // Carrito
    cartButton.addEventListener('click', () => {
      if (carrito.length === 0) {
        mostrarToast('üõí Carrito vac√≠o');
      } else {
        window.location.href = 'pedidos.html';
      }
    });

    // Men√∫ lateral
    const menuToggle = document.getElementById('menuToggle');
    const sideMenu = document.getElementById('sideMenu');
    const menuOverlay = document.getElementById('menuOverlay');

    menuToggle.addEventListener('click', () => {
      sideMenu.classList.toggle('open');
      menuOverlay.classList.toggle('open');
      menuToggle.classList.toggle('open');
      document.body.style.overflow = sideMenu.classList.contains('open') ? 'hidden' : '';
    });

    menuOverlay.addEventListener('click', () => {
      sideMenu.classList.remove('open');
      menuOverlay.classList.remove('open');
      menuToggle.classList.remove('open');
      document.body.style.overflow = '';
    });

    // Filtros
    document.querySelectorAll('.filter-btn').forEach(button => {
      button.addEventListener('click', () => {
        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        cargarProductos(button.getAttribute('data-filter'));
      });
    });

    // Filtros desde men√∫
    document.querySelectorAll('.filter-category').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const filtro = item.getAttribute('data-filter');
        const botonFiltro = document.querySelector(`.filter-btn[data-filter="${filtro}"]`);
        if (botonFiltro) botonFiltro.click();
        document.querySelector('#productos-section').scrollIntoView({ behavior: 'smooth' });
        sideMenu.classList.remove('open');
        menuOverlay.classList.remove('open');
        menuToggle.classList.remove('open');
      });
    });

    // Cerrar modal al hacer clic fuera
    testimonialModal.addEventListener('click', (e) => {
      if (e.target === testimonialModal) {
        cerrarModalTestimonio();
      }
    });

    subscriptionModal.addEventListener('click', (e) => {
      if (e.target === subscriptionModal) {
        cerrarModalSuscripcion();
      }
    });

    // Smooth scroll
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Rotar publicidad lateral
    function rotarPublicidadLateral() {
      if (window.innerWidth >= 1200) {
        const anuncios = [
          { titulo: "üî• OFERTA ESPECIAL üî•", desc: "VAPO XYZ + 2 MIELES", precio: "$599" },
          { titulo: "üéÅ REGALO NAVIDE√ëO üéÅ", desc: "Cada compra lleva sorpresa", precio: "GRATIS" },
          { titulo: "‚ö° NUEVO LANZAMIENTO ‚ö°", desc: "VAPO TURBO 6000", precio: "$699" },
          { titulo: "üí® MIELES PREMIUM üí®", desc: "5 sabores exclusivos", precio: "$199 c/u" }
        ];
        
        let indice = 0;
        
        setInterval(() => {
          const anuncio = anuncios[indice % anuncios.length];
          sideAd.innerHTML = `
            <strong>${anuncio.titulo}</strong>
            <p style="font-size: 0.9em; margin-top: 5px;">${anuncio.desc}</p>
            <p style="color: #FFD700; font-weight: bold; margin: 5px 0;">${anuncio.precio}</p>
            <button onclick="comprarOfertaEspecial()" style="background: white; color: #25D366; border: none; padding: 8px 15px; border-radius: 5px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 5px;">
              COMPRAR AHORA
            </button>
          `;
          indice++;
        }, 5000);
      }
    }

    // ========== INICIALIZACI√ìN ==========

    window.addEventListener('DOMContentLoaded', () => {
      cargarProductos();
      cargarTestimonios();
      actualizarContadorCarrito();
      rotarPublicidadLateral();
      
      // Mostrar publicidad lateral despu√©s de 3 segundos
      setTimeout(() => {
        if (sideAd.style.display === 'block') {
          sideAd.style.opacity = '0';
          sideAd.style.transition = 'opacity 0.5s';
          sideAd.style.display = 'block';
          setTimeout(() => {
            sideAd.style.opacity = '1';
          }, 10);
        }
      }, 3000);
    });
  </script>
</body>
</html>

